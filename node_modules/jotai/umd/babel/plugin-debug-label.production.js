!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("path"),require("@babel/template")):"function"==typeof define&&define.amd?define(["exports","path","@babel/template"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["jotaiPlugin-debug-label"]={},e.path,e.templateBuilder)}(this,(function(e,t,i){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=n(t),r=n(i);function o(e,t){if(e.isIdentifier(t)&&"atom"===t.name)return!0;if(e.isMemberExpression(t)){var i=t.property;if(e.isIdentifier(i)&&"atom"===i.name)return!0}return!1}e.default=function(e){var t=e.types;return{visitor:{ExportDefaultDeclaration:function(e,i){var n=e.node;if(t.isCallExpression(n.declaration)&&o(t,n.declaration.callee)){var l=i.filename||"unknown",d=a.default.basename(l,a.default.extname(l));"index"===d&&(d=a.default.basename(a.default.dirname(l)));var f=r.default("\n          const %%atomIdentifier%% = %%atom%%;\n          export default %%atomIdentifier%%\n          ")({atomIdentifier:t.identifier(d),atom:n.declaration});e.replaceWithMultiple(f)}},VariableDeclarator:function(e){t.isIdentifier(e.node.id)&&t.isCallExpression(e.node.init)&&o(t,e.node.init.callee)&&e.parentPath.insertAfter(t.expressionStatement(t.assignmentExpression("=",t.memberExpression(t.identifier(e.node.id.name),t.identifier("debugLabel")),t.stringLiteral(e.node.id.name))))}}}},Object.defineProperty(e,"__esModule",{value:!0})}));
